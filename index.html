html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: Arial, sans-serif;
}

.container {
  display: flex;
  height: 100vh;
}

#sidebar {
  width: 300px;
  background: #f9f9f9;
  padding: 10px;
  overflow-y: auto;
  border-right: 1px solid #ccc;
}

#sidebar h2 {
  margin-top: 0;
}

#sidebar input, #sidebar select {
  width: 100%;
  margin-bottom: 10px;
  padding: 6px;
  font-size: 14px;
}

#spotList {
  list-style: none;
  padding: 0;
  margin: 0;
}

#spotList li {
  cursor: pointer;
  padding: 8px;
  border-bottom: 1px solid #ddd;
}

#spotList li:hover {
  background: #e0f7fa;
}

#map {
  flex: 1;
  height: 100%;
}

@media (max-width: 768px) {
  .container {
    flex-direction: column;
  }

  #sidebar {
    width: 100%;
    height: auto;
    border-right: none;
    border-bottom: 1px solid #ccc;
  }

  #map {
    height: calc(100vh - 250px);
  }
}
const map = L.map('map').setView([53.7267, -127.6476], 5);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: 'Map data Â© OpenStreetMap contributors'
}).addTo(map);

const markerMap = new Map();

touristSpots.forEach((spot, index) => {
  const marker = L.marker([spot.location.lat, spot.location.lng]).addTo(map);
  marker.bindPopup(`<strong>${spot.name}</strong><br>${spot.description}`);
  markerMap.set(spot.name.toLowerCase(), marker);
});

const spotListEl = document.getElementById('spotList');
const searchInput = document.getElementById('searchInput');
const categoryFilter = document.getElementById('categoryFilter');

function renderSpotList() {
  const searchValue = searchInput.value.toLowerCase();
  const selectedCategory = categoryFilter.value;

  spotListEl.innerHTML = '';

  touristSpots
    .filter(spot => {
      const matchName = spot.name.toLowerCase().includes(searchValue);
      const matchCategory = selectedCategory === 'All' || spot.category === selectedCategory;
      return matchName && matchCategory;
    })
    .forEach(spot => {
      const li = document.createElement('li');
      li.textContent = spot.name;
      li.onclick = () => {
        map.setView([spot.location.lat, spot.location.lng], 10);
        const marker = markerMap.get(spot.name.toLowerCase());
        if (marker) marker.openPopup();
      };
      spotListEl.appendChild(li);
    });
}

searchInput.addEventListener('input', renderSpotList);
categoryFilter.addEventListener('change', renderSpotList);

renderSpotList(); // initial render
